<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <!-- font awsome -->
    <<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz" crossorigin="anonymous">
    <title>Payslip List</title>
  </head>
  <body>
    <!-- Code Start:section -->
    <div class="container">
        <DIV class="col-sm-7"><H4><i class="far fa-arrow-alt-circle-right fa-1x"></i><SPAN>  </SPAN>Payslip List</H4></DIV>
        <br>
        <!-- row 1:start -->
        <div class="row justify-content-md-center">
          <div class="col-sm-3">
            <div class="form-group">
              <label for="MonthDropDown">Month</label>
              <select class="form-control" id="MonthDropDown">
                <option value="January">January</option>
                <option value="February">February</option>
                <option value="March">March</option>
                <option value="April">April</option>
                <option value="May">May</option>
                <option value="June">June</option>
                <option value="July">July</option>
                <option value="August">August</option>
                <option value="September">September</option>
                <option value="October">October</option>
                <option value="November">November</option>
                <option value="December">December</option>
              </select>
            </div>
          </div>
          <div class="col-sm-3">
            <div class="form-group">
              <label for="YearDorpDown">Year</label>
              <select class="form-control" id="YearDropDown">
                <option value="2018">2018</option>
                          <option value="2017">2017</option>
                          <option value="2016">2016</option>
                          <option value="2015">2015</option>
                  <option value="2014">2014</option>
                  <option value="2013">2013</option>
                  <option value="2012">2012</option>
                  <option value="2011">2011</option>
                  <option value="2010">2010</option>
                  <option value="2009">2009</option>
                  <option value="2008">2008</option>
                  <option value="2007">2007</option>
                  <option value="2006">2006</option>
                  <option value="2005">2005</option>
                  <option value="2004">2004</option>
                  <option value="2003">2003</option>
                  <option value="2002">2002</option>
                  <option value="2001">2001</option>
                  <option value="2000">2000</option>
                  <option value="1999">1999</option>
                  <option value="1998">1998</option>
                  <option value="1997">1997</option>
                  <option value="1996">1996</option>
                  <option value="1995">1995</option>
                  <option value="1994">1994</option>
                  <option value="1993">1993</option>
                  <option value="1992">1992</option>
                  <option value="1991">1991</option>
                  <option value="1990">1990</option>
                  <option value="1989">1989</option>
                  <option value="1988">1988</option>
                  <option value="1987">1987</option>
                  <option value="1986">1986</option>
                  <option value="1985">1985</option>
                  <option value="1984">1984</option>
                  <option value="1983">1983</option>
                  <option value="1982">1982</option>
                  <option value="1981">1981</option>
                  <option value="1980">1980</option>
                  <option value="1979">1979</option>
                  <option value="1978">1978</option>
                  <option value="1977">1977</option>
                  <option value="1976">1976</option>
                  <option value="1975">1975</option>
                  <option value="1974">1974</option>
                  <option value="1973">1973</option>
                  <option value="1972">1972</option>
                  <option value="1971">1971</option>
                  <option value="1970">1970</option>
                  <option value="1969">1969</option>
                  <option value="1968">1968</option>
                  <option value="1967">1967</option>
                  <option value="1966">1966</option>
                  <option value="1965">1965</option>
                  <option value="1964">1964</option>
                  <option value="1963">1963</option>
                  <option value="1962">1962</option>
                  <option value="1961">1961</option>
                  <option value="1960">1960</option>
                  <option value="1959">1959</option>
                  <option value="1958">1958</option>
                  <option value="1957">1957</option>
                  <option value="1956">1956</option>
                  <option value="1955">1955</option>
                  <option value="1954">1954</option>
                  <option value="1953">1953</option>
                  <option value="1952">1952</option>
                  <option value="1951">1951</option>
                  <option value="1950">1950</option>
                  <option value="1949">1949</option>
                  <option value="1948">1948</option>
                  <option value="1947">1947</option>
                  <option value="1946">1946</option>
                  <option value="1945">1945</option>
                  <option value="1944">1944</option>
                  <option value="1943">1943</option>
                  <option value="1942">1942</option>
                  <option value="1941">1941</option>
                  <option value="1940">1940</option>
                  <option value="1939">1939</option>
                  <option value="1938">1938</option>
                  <option value="1937">1937</option>
                  <option value="1936">1936</option>
                  <option value="1935">1935</option>
                  <option value="1934">1934</option>
                  <option value="1933">1933</option>
                  <option value="1932">1932</option>
                  <option value="1931">1931</option>
                  <option value="1930">1930</option>
                  <option value="1929">1929</option>
                  <option value="1928">1928</option>
                  <option value="1927">1927</option>
                  <option value="1926">1926</option>
                  <option value="1925">1925</option>
                  <option value="1924">1924</option>
                  <option value="1923">1923</option>
                  <option value="1922">1922</option>
                  <option value="1921">1921</option>
                  <option value="1920">1920</option>
                  <option value="1919">1919</option>
                  <option value="1918">1918</option>
                  <option value="1917">1917</option>
                  <option value="1916">1916</option>
                  <option value="1915">1915</option>
                  <option value="1914">1914</option>
                  <option value="1913">1913</option>
                  <option value="1912">1912</option>
                  <option value="1911">1911</option>
                  <option value="1910">1910</option>
                  <option value="1909">1909</option>
                  <option value="1908">1908</option>
                  <option value="1907">1907</option>
                  <option value="1906">1906</option>
                  <option value="1905">1905</option>
                  <option value="1904">1904</option>
                  <option value="1903">1903</option>
                  <option value="1902">1902</option>
                  <option value="1901">1901</option>
                  <option value="1900">1900</option>
              </select>
            </div>
          </div>
          <div class="col-sm-2">
            <br>
            <div class="form-group">
              <button type="button" class="btn btn-primary btn-lg btn-block" id="search">Search</button>              
            </div>
          </div>
      </div>
      <!-- row 1:end -->
      <!-- Table Start -->
      <div class="table-responsive">
        <table class="table table-hover table-bordered" id="payslipTable">
          <thead>
            <tr>
              <th>#</th>
              <th>ID</th>
              <th>Employee</th>
              <th>Summary</th>
              <th>Date</th>
              <th>Status</th>
              <th>Option</th>
            </tr>
          </thead>
          <tbody>
            
            <!-- 
            <tr>
              <td>1</td>
              <td>EMPID27088</td>
              <td>India Stone</td>
              <td class="container">
                <DIV class="row">
                  <span class="offset-md-2 col-sm-4" >Basic Salary:</span>
                  <span class="col-sm-4" style="font-weight: 600;">15000</span>
                </DIV>
                <div class="row">
                  <span class="offset-md-2 col-sm-4">Total Allowance:</span>
                  <span class="col-sm-4" style="font-weight: 600;">100</span>          
                </div>
                <div class="row">
                  <span class="offset-md-2 col-sm-4">Total Deducation:</span>
                  <span class="col-sm-4" style="font-weight: 600;">0</span>       
                </div>
                <hr>
                <div class="row">
                  <span class="offset-md-2 col-sm-4">Net Salary:</span>
                  <span class="col-sm-4" style="font-weight: 600;">150100</span>
                </div>
              </td>
              <td>June, 2018</td>
              <td><button type="button" class="btn btn-success">paid</button></td>
              <td>
                <div class="dropdown">
                  <button class="btn btn-secondary dropdown-toggle" type="button" id="DropDownActionButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Action
                  </button>
                  <div class="dropdown-menu" aria-labelledby="DropDownActionButton">
                    <a class="dropdown-item" href="#">Action</a>
                    <a class="dropdown-item" href="#">Another action</a>
                    <a class="dropdown-item" href="#">Something else here</a>
                  </div>
                </div>
              </td>
            </tr> 
          -->






          </tbody>
        </table>  
      </div>
      
      <!-- Table Start -->

    </div>
    <!-- code END:section -->

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
      <script
        src="https://code.jquery.com/jquery-3.3.1.min.js"
        integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>
    <script type="text/javascript">
      
      $data = [
          { 
            id: 'EMID01',Employee:'Rakesh Verma',date:'june 2018' ,status:'paid',details:[
            {item:'Basic Salary',value:'1500'},
            {item:'Total Allowance',value:'100'},
            {item:'Total Deducation',value:'0'},
            {item:'Net Salary',value:'1600'},
          ]}, 
          { 
            id: 'EMID02' ,Employee:'Chetan Bhagat',date:'July 2017' ,status:'paid',details:[
            {item:'Basic Salary',value:'34000'},
            {item:'Total Allowance',value:'200'},
            {item:'Total Deducation',value:'100'},
            {item:'Net Salary',value:'35000'},
          ]}, 
          { 
            id: 'EMID03' ,Employee:'Mark Manson',date:'april 2018' ,status:'paid',details:[
            {item:'Basic Salary',value:'4500'},
            {item:'Total Allowance',value:'20'},
            {item:'Total Deducation',value:'10'},
            {item:'Net Salary',value:'4510'},
          ]}, 
          { 
            id: 'EMID04' ,Employee:'Ravi Bhusan',date:'june 2019' ,status:'not-paid',details:[
            {item:'Basic Salary',value:'55000'},
            {item:'Total Allowance',value:'55'},
            {item:'Total Deducation',value:'10'},
            {item:'Net Salary',value:'55045'},
          ]}, 
          { 
            id: 'EMID05' ,Employee:'Roman Rikki',date:'december 2018' ,status:'paid',details:[
            {item:'Basic Salary',value:'120001'},
            {item:'Total Allowance',value:'500'},
            {item:'Total Deducation',value:'1'},
            {item:'Net Salary',value:'12500'},
          ]}, 
      ];
      $.each($data, function( index, value ) {
        console.log(value);
        $buttonColor = "success";
        $buttonText = "Paid";
        if(value.status != "paid"){
          $buttonColor= "danger";
          $buttonText = "Dues";
        }

        //felling dynamic data to the variable
        $DynamicFieldsDetails = "";
        $lengthOfAaray = value.details.length;
        $.each(value.details,function(index,value){
          if(index == $lengthOfAaray - 2)
            $DynamicFieldsDetails+= '<DIV class="row">'+
                    '<span class="offset-md-2 col-sm-4" >'+value.item+':</span>'+
                    '<span class="col-sm-4" style="font-weight: 600;">'+value.value+'</span>'+
                  '</DIV><hr>';
          else
            $DynamicFieldsDetails+= '<DIV class="row">'+
                  '<span class="offset-md-2 col-sm-4" >'+value.item+':</span>'+
                  '<span class="col-sm-4" style="font-weight: 600;">'+value.value+'</span>'+
                '</DIV>';
        });
        $('#payslipTable > tbody:last-child').append('<tr>'+
              '<td>'+(index+1)+'</td>'+
              '<td>'+value.id+'</td>'+
              '<td>'+value.Employee+'</td>'+
              '<td class="container">'+
                $DynamicFieldsDetails+
              '</td>'+
              '<td>'+value.date+'</td>'+
              '<td><button type="button" class="btn btn-'+$buttonColor+'">'+$buttonText+'</button></td>'+
              '<td>'+
                '<button class = "action_button btn btn-dark" id="'+value.id+'">'+
                  'Edit'+
                '</button>'+
              '</td>'+
            '</tr>');
      });
      
      $("#search").click(function(){
        $month = $("#MonthDropDown option:selected");
        $year = $("#YearDropDown option:selected");
        $("body").append('<div class="alert alert-success" role="alert">This is a success alertâ€”check it out!</div>');
        $.ajax({
          url: "test.html",
          type: "POST",
          data: {month:$month ,year:$year},
        }).done(function() {
              
        });
      });
      $(".action_button").click(function(){
        $id = $(".action_button").attr("id");
        window.open("./EditPayslipList.html/"+$id,"_blank");

      });
    </script>
  </body>
</html>